scrollCollapse = TRUE,
dom = 'Bfrtip',
buttons = c('copy', 'csv', 'excel')
))
esLFC[1351,]
resLFC[1351,]
s1 <- subset(meta, meta$condition == "KO")
s2 <- subset(meta, meta$condition == "control")
cells.1 = rownames(s1)
cells.2 = rownames(s2)
group.info <- data.frame(row.names = c(cells.1, cells.2))
group.info[cells.1, "group"] <- "Group1"
group.info[cells.2, "group"] <- "Group2"
group.info[, "group"] <- factor(x = group.info[, "group"])
group.info$wellKey <- rownames(x = group.info)
dds1 <- DESeq2::DESeqDataSetFromMatrix(
countData = counts[,as.numeric(c(cells.1, cells.2))],
colData = group.info,
design = ~ group
)
dds1 <- DESeq2::estimateSizeFactors(object = dds1)
dds1 <- DESeq2::estimateDispersions(object = dds1, fitType = "local")
dds1 <- DESeq2::nbinomWaldTest(object = dds1)
res <- DESeq2::results(
object = dds1,
contrast = c("group", "Group1", "Group2")
)
res <- res[order(res$padj),]
resLFC <- res
summary(resLFC, alpha=0.05)
DT::datatable(as.data.frame(resLFC), extensions = 'FixedColumns',
options = list(
pageLength = 20,
scrollX = TRUE,
scrollCollapse = TRUE,
dom = 'Bfrtip',
buttons = c('copy', 'csv', 'excel', 'pdf', 'print')
))
write.csv(resLFC,"project2_KO_vs_control.csv")
resLFC[8530,]
bitr
library(tidyverse)
library(RVenn)
library(rlist)
library(knitr)
library(RMySQL)
library(fst)
library(preprocessCore)
library(cowplot)
library(MAST)
install.packages("RVenn", lib="C:/Program Files/Microsoft/R Open/R-4.0.2/library")
install.packages("rlist", lib="C:/Program Files/Microsoft/R Open/R-4.0.2/library")
install.packages("RMySQL", lib="C:/Program Files/Microsoft/R Open/R-4.0.2/library")
install.packages("fst", lib="C:/Program Files/Microsoft/R Open/R-4.0.2/library")
install.packages("preprocessCore", lib="C:/Program Files/Microsoft/R Open/R-4.0.2/library")
install.packages("cowplot", lib="C:/Program Files/Microsoft/R Open/R-4.0.2/library")
library(tidyverse)
library(RVenn)
library(rlist)
library(knitr)
library(RMySQL)
library(fst)
library(preprocessCore)
library(cowplot)
library(MAST)
load(url('https://raw.githubusercontent.com/OSU-BMBL/scread-protocol/master/overlapping_genes/scread_db.rdata'))
source(url('https://raw.githubusercontent.com/OSU-BMBL/scread-protocol/master/overlapping_genes/overlap_functions.R'))
REGION_LIST <- sort(unique(dataset$region))
CT_LIST <- sort(unique(cell_type_meta$cell_type))
CT_SHORT_LIST <- CT_LIST
CT_SHORT_LIST[CT_LIST=="Oligodendrocyte precursor cells"] <- "opc"
CT_SHORT_LIST <- tolower(substr(CT_SHORT_LIST, 1, 3))
TOP <- 100
this_species <- 'Human'
this_region <- REGION_LIST[5]
this_direction <- 'up'
OVERLAP_THRES <- 3
result <- calc_overlap_list()
print(result$list)
print(result$rank)
knitr::opts_chunk$set(echo = TRUE)
library(devtools)
library(Seurat)
library(tidyverse)
library(Matrix)
source("functions.R")
library(RColorBrewer)
library(Polychrome)
library(ggplot2)
#library(tidyverse)
#library(dabestr)
library(enrichR)
#library(ggpubr)
#library(Hmisc)
library(ggpubr)
library(EnhancedVolcano)
library(VennDiagram)
#library(ggrepel)
#library(ggfortify)
library(pheatmap)
library(DESeq2)
library(clusterProfiler)
#install_github('immunogenomics/presto')
# check the current active plan
#plan()
#plan("multiprocess", workers = 16)
#plan()
#library(Hmisc)
#library(ggpubr)
#library(ggrepel)
#library(ggfortify)
#library(QUBIC)
#library(DESeq2)
#library(pheatmap)
#library(patchwork)
#library(monocle)
#library(DelayedArray)
#library(DelayedMatrixStats)
#library(org.Mm.eg.db)
#library(VennDiagram)
#
knitr::opts_knit$set(root.dir = "C:/Users/flyku/Documents/GitHub/BISR/tet2")
knitr::opts_knit$set(echo=F)
knitr::opts_knit$set(message=F)
setwd("C:/Users/flyku/Documents/GitHub/BISR/tet2")
####
load("project1_mono_twins.rdata")
####
Idents(mono_twin) <- mono_twin$diagnosis
WhichCells(mono_twin, "TET2" > 0)
subset(mono_twin, "TET2" > 0)
mono_twin
subset(mono_twin, TET2 > 0)
pos_tet2 <- subset(mono_twin, TET2 > 0)
zero_tet2 <- subset(mono_twin, TET2 == 0)
zero_tet2
pos_tet2
mono_twin_data <- GetAssayData(mono_twin, slot = "data")
mono_twin_data["TET2" > 0,]
colnames(mono_twin_data["TET2" > 0,])
mono_twin_data %>%
select(TET2 > 0)
mono_twin_data %>%
as_tibble() %>%
select(TET2 > 0)
mono_twin_data[,"TET2" > 0]
pos_tet2 <- colnames(subset(mono_twin, TET2 > 0 ))
pos_tet2
zero_tet2 <- colnames(subset(mono_twin, TET2 == 0))
pos_tet2
zero_tet2
data.frame(pos_tet2,"positive")
data.frame(c(pos_tet2, zero_tet2),c("positive","zero"))
c("positive","zero")
c(pos_tet2, zero_tet2)
data.frame(pos_tet2,"positive")
data.frame(zero_tet2,"zero")
rbind(
data.frame(pos_tet2,"positive"),
data.frame(zero_tet2,"zero")
zero_tet2)
rbind(
data.frame(pos_tet2,"positive"),
data.frame(zero_tet2,"zero")
)
rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
zero_df <- rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
mono_twin_data <- AddMetaData(mono_twin_data, zero_df$tet2_expr,col.name="tet2_expr")
mono_twin_data
mono_twin_data <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
VlnPlot(mono_twin,c("TET2"), pt.size = 1.2, split.by = "tet2_expr")
mono_twin <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
VlnPlot(mono_twin,c("TET2"), pt.size = 1.2, split.by = "tet2_expr")
mono_twin
colnames(mono_twin)
sort(colnames(mono_twin))
colnames(mono_twin)
sort(colnames(mono_twin))
colnames(mono_twin)
sort(colnames(mono_twin))
match(colnames(mono_twin), zero_df$cell)
zero_df$cell[match(colnames(mono_twin), zero_df$cell),]
match(colnames(mono_twin), zero_df$cell)
zero_df[match(colnames(mono_twin), zero_df$cell),]
colnames(mono_twin)
zero_df <- rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
colnames(mono_twin)
zero_df <- zero_df[match(colnames(mono_twin), zero_df$cell),]
VlnPlot(mono_twin,c("TET2"), pt.size = 1.2, split.by = "tet2_expr")
mono_twin <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
VlnPlot(mono_twin,c("TET2"), pt.size = 1.2, split.by = "tet2_expr")
Idents(mono_twin) <- mono_twin$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin, ident.1 = "positive", ident.2 = "zero")
ms_tet2_marker
ms_tet2_marker <- FindMarkers(mono_twin, ident.1 = "positive", ident.2 = "zero", group.by = "diagnosis")
ms_tet2_marker <- FindMarkers(mono_twin, ident.1 = "positive", ident.2 = "zero", subset.ident = "diagnosis")
ms_tet2_marker
Idents(mono_twin) <- mono_twin$diagnosis
subset(mono_twin, diagnosis="subclinical-neuro-inflammation")
Idents(mono_twin) <- mono_twin$diagnosis
subset(mono_twin, diagnosis="subclinical-neuro-inflammation")
mono_twin$diagnosis
subset(mono_twin, diagnosis="subclinical-neuro-inflammat2ion")
mono_twin$diagnosis
mono_twin <- subset(mono_twin, diagnosis="subclinical-neuro-inflammation")
ms_tet2_marker <- FindMarkers(mono_twin, ident.1 = "positive", ident.2 = "zero", subset.ident = "diagnosis")
mono_twin
mono_twin <- subset(mono_twin, diagnosis="subclinical-neuro-inflammation")
mono_twin
mono_twin1 <- subset(mono_twin, diagnosis="subclinical-neuro-inflammation")
mono_twin1
mono_twin1 <- subset(mono_twin, idents=diagnosis="subclinical-neuro-inflammation")
mono_twin1 <- subset(mono_twin, ident=diagnosis="subclinical-neuro-inflammation")
Idents(mono_twin) <- mono_twin$diagnosis
mono_twin1 <- subset(mono_twin, idents="subclinical-neuro-inflammation")
mono_twin1
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
Idents(mono_twin) <- mono_twin$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
Idents(mono_twin1) <- mono_twin1$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
ms_tet2_marker
write.csv(ms_tet2_marker, "MS_TET2_positive_vs_zero.csv")
diag_markers <- read.csv("MS_TET2_positive_vs_zero.csv")
DT::datatable(diag_markers)
Idents(mono_twin) <- mono_twin$diagnosis
pos_tet2 <- colnames(subset(mono_twin, TET2 > 0 ))
zero_tet2 <- colnames(subset(mono_twin, TET2 == 0))
zero_df <- rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
zero_df <- zero_df[match(colnames(mono_twin), zero_df$cell),]
mono_twin <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
VlnPlot(mono_twin,c("TET2"), pt.size = 1.2, split.by = "tet2_expr")
Idents(mono_twin) <- mono_twin$diagnosis
mono_twin1 <- subset(mono_twin, idents="subclinical-neuro-inflammation")
Idents(mono_twin1) <- mono_twin1$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
write.csv(ms_tet2_marker, "MS_TET2_positive_vs_zero.csv")
diag_markers <- read.csv("MS_TET2_positive_vs_zero.csv")
DT::datatable(diag_markers)
Idents(mono_twin) <- mono_twin$diagnosis
pos_tet2 <- colnames(subset(mono_twin, TET2 > 0 ))
zero_tet2 <- colnames(subset(mono_twin, TET2 == 0))
zero_df <- rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
zero_df <- zero_df[match(colnames(mono_twin), zero_df$cell),]
mono_twin <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
VlnPlot(mono_twin,c("TET2"), pt.size = 1.2, split.by = "tet2_expr")
Idents(mono_twin) <- mono_twin$diagnosis
mono_twin1 <- subset(mono_twin, idents="clinically-definite-MS")
Idents(mono_twin1) <- mono_twin1$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
write.csv(ms_tet2_marker, "MS_TET2_positive_vs_zero.csv")
diag_markers <- read.csv("MS_TET2_positive_vs_zero.csv")
DT::datatable(diag_markers)
Idents(mono_twin) <- mono_twin$diagnosis
pos_tet2 <- colnames(subset(mono_twin, TET2 > 0 ))
zero_tet2 <- colnames(subset(mono_twin, TET2 == 0))
zero_df <- rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
zero_df <- zero_df[match(colnames(mono_twin), zero_df$cell),]
mono_twin <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
Idents(mono_twin) <- mono_twin$diagnosis
mono_twin1 <- subset(mono_twin, idents="subclinical-neuro-inflammation")
Idents(mono_twin1) <- mono_twin1$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
write.csv(ms_tet2_marker, "neuro-inflammation_TET2_positive_vs_zero.csv")
diag_markers <- read.csv("neuro-inflammation_TET2_positive_vs_zero.csv")
DT::datatable(diag_markers)
ms_tet2_marker
ms_tet2_marker
mono_twin
mono_twin1
VlnPlot(mono_twin1, "TET2")
mono_twin1
Idents(mono_twin) <- mono_twin$diagnosis
pos_tet2 <- colnames(subset(mono_twin, TET2 > 0 ))
zero_tet2 <- colnames(subset(mono_twin, TET2 == 0))
zero_df <- rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
zero_df <- zero_df[match(colnames(mono_twin), zero_df$cell),]
mono_twin <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
Idents(mono_twin) <- mono_twin$diagnosis
mono_twin1 <- subset(mono_twin, idents="clinically-definite-MS")
Idents(mono_twin1) <- mono_twin1$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
VlnPlot(mono_twin1, "TET2")
write.csv(ms_tet2_marker, "MS_TET2_positive_vs_zero.csv")
diag_markers <- read.csv("MS_TET2_positive_vs_zero.csv")
DT::datatable(diag_markers)
VlnPlot(mono_twin1, "TET2", pt.size = 1)
VlnPlot(mono_twin1, "TET2", pt.size = 1.3)
VlnPlot(mono_twin1, "TET2", pt.size = 1.5)
mono_twin1
Idents(mono_twin) <- mono_twin$diagnosis
pos_tet2 <- colnames(subset(mono_twin, TET2 > 0 ))
zero_tet2 <- colnames(subset(mono_twin, TET2 == 0))
zero_df <- rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
zero_df <- zero_df[match(colnames(mono_twin), zero_df$cell),]
mono_twin <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
Idents(mono_twin) <- mono_twin$diagnosis
mono_twin1 <- subset(mono_twin, idents="subclinical-neuro-inflammation")
Idents(mono_twin1) <- mono_twin1$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
write.csv(ms_tet2_marker, "neuro-inflammation_TET2_positive_vs_zero.csv")
VlnPlot(mono_twin1, "TET2", pt.size = 1.5)
diag_markers <- read.csv("neuro-inflammation_TET2_positive_vs_zero.csv")
DT::datatable(diag_markers)
pos_tet2 <- colnames(subset(mono_twin1, TET2 > 0 ))
zero_tet2 <- colnames(subset(mono_twin1, TET2 == 0))
zero_tet2
pos_tet2
zero_tet2
pos_tet2 <- colnames(subset(mono_twin1, TET2 > 0 ))
zero_tet2 <- colnames(subset(mono_twin1, TET2 == 0))
zero_tet2
enriched_combined$KEGG_2019_Human
enriched_combined
DT::datatable(head(enriched_combined$KEGG_2019_Human,n=20)[,c(-3,-5,-6,-7)], extensions = c('FixedColumns','Buttons'),
options = list(
pageLength = 5,
scrollX = TRUE,
scrollCollapse = TRUE,
dom = 'Bfrtip',
buttons = c('copy', 'csv', 'excel')
))
Idents(mono_twin) <- mono_twin$diagnosis
pos_tet2 <- colnames(subset(mono_twin, TET2 > 0 ))
zero_tet2 <- colnames(subset(mono_twin, TET2 == 0))
zero_df <- rbind(
data.frame(cell=pos_tet2,tet2_expr="positive"),
data.frame(cell=zero_tet2,tet2_expr="zero")
)
zero_df <- zero_df[match(colnames(mono_twin), zero_df$cell),]
mono_twin <- AddMetaData(mono_twin, zero_df$tet2_expr,col.name="tet2_expr")
Idents(mono_twin) <- mono_twin$diagnosis
mono_twin1 <- subset(mono_twin, idents="subclinical-neuro-inflammation")
Idents(mono_twin1) <- mono_twin1$tet2_expr
ms_tet2_marker <- FindMarkers(mono_twin1, ident.1 = "positive", ident.2 = "zero")
write.csv(ms_tet2_marker, "neuro-inflammation_TET2_positive_vs_zero.csv")
VlnPlot(mono_twin1, "TET2", pt.size = 1.5)
diag_markers <- read.csv("neuro-inflammation_TET2_positive_vs_zero.csv")
DT::datatable(diag_markers)
# This select genes of adj.p.value < 0.05, sometimes people use different threshold, like adding log2foldchange threshold.
#enriched_combined <- enrichr(rownames(diag_markers[which(diag_markers$padj < 0.05),]),dbs)
# This add log2foldchange threshold.
enriched_combined <- enrichr(diag_markers[which(diag_markers$p_val < 0.05 & diag_markers$avg_log2FC > 0),][,1],dbs)
# output top 20 enriched terms
DT::datatable(head(enriched_combined$GO_Biological_Process_2018,n=20)[,c(-3,-5,-6,-7)], extensions = c('FixedColumns','Buttons'),
options = list(
pageLength = 5,
scrollX = TRUE,
scrollCollapse = TRUE,
dom = 'Bfrtip',
buttons = c('copy', 'csv', 'excel')
))
DT::datatable(head(enriched_combined$GO_Cellular_Component_2018,n=20)[,c(-3,-5,-6,-7)], extensions = c('FixedColumns','Buttons'),
options = list(
pageLength = 5,
scrollX = TRUE,
scrollCollapse = TRUE,
dom = 'Bfrtip',
buttons = c('copy', 'csv', 'excel')
))
DT::datatable(head(enriched_combined$GO_Molecular_Function_2018,n=20)[,c(-3,-5,-6,-7)], extensions = c('FixedColumns','Buttons'),
options = list(
pageLength = 5,
scrollX = TRUE,
scrollCollapse = TRUE,
dom = 'Bfrtip',
buttons = c('copy', 'csv', 'excel')
))
DT::datatable(head(enriched_combined$KEGG_2019_Human,n=20)[,c(-3,-5,-6,-7)], extensions = c('FixedColumns','Buttons'),
options = list(
pageLength = 5,
scrollX = TRUE,
scrollCollapse = TRUE,
dom = 'Bfrtip',
buttons = c('copy', 'csv', 'excel')
))
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
sleep --help
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
url("https://bmbl.bmi.osumc.edu/iris3/data/202004168452")
if(url("https://bmbl.bmi.osumc.edu/iris3/data/202004168452")){
print("job exist")
return(FALSE)
}
url("https://bmbl.bmi.osumc.edu/iris3/data/2020041684522")
if(httr::GET(url("https://bmbl.bmi.osumc.edu/iris3/data/202004168452"))){
print("job exist")
return(FALSE)
}
httr::GET(url("https://bmbl.bmi.osumc.edu/iris3/data/202004168452")
)
httr::GET("https://bmbl.bmi.osumc.edu/iris3/data/202004168452")
url_data <- httr::GET("https://bmbl.bmi.osumc.edu/iris3/data/202004168452")
url_data
url_data <- httr::GET("https://bmbl.bmi.osumc.edu/iris3/data/2020041684528")
url_data
httr:content(url_data)
httr:"content(url_data)
if(str_detect(url_data,"")){
print("job exist")
return(FALSE)
}
current_wd <- getwd()
wd=paste0("C:/Users/flyku/Documents/GitHub/iris3-backend/plumber/",jobid)
dir.create(wd)
setwd(wd)
#wd=paste0("/var/www/html/iris3/data/",jobid)
cat(paste0("#!/bin/bash\necho 'test run ",jobid,"'\nsleep 10"), file="qsub2.sh",sep = "\n")
httr::content(url_data)
url_data <- httr::GET("https://bmbl.bmi.osumc.edu/iris3/data/2020041684528")
url_data <- httr::content(url_data)
url_data
str_detect(url_data,"location.href"
)
url_data <- httr::GET("https://bmbl.bmi.osumc.edu/iris3/data/202004168458")
url_data <- httr::content(url_data)
url_data
str_detect(url_data,"location.href")
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
i
is_job_exist
url_data <- httr::GET(paste0("https://bmbl.bmi.osumc.edu/iris3/data/",jobid))
url_data <- httr::content(url_data)
is_job_exist <- str_detect(url_data,"location.href")
is_job_exist
url_data
jobid
url_data <- httr::GET(paste0("https://bmbl.bmi.osumc.edu/iris3/data/",jobid))
url_data <- httr::content(url_data)
is_job_exist <- str_detect(url_data,"location.href")
if(!is.character(jobid)) {
jobid = "123"
}
jobid="123"
url_data <- httr::GET(paste0("https://bmbl.bmi.osumc.edu/iris3/data/",jobid))
url_data <- httr::content(url_data)
is_job_exist <- str_detect(url_data,"location.href")
is_job_exist
jobid="2020041684528"
url_data <- httr::GET(paste0("https://bmbl.bmi.osumc.edu/iris3/data/",jobid))
url_data <- httr::content(url_data)
is_job_exist <- str_detect(url_data,"location.href")
is_job_exist
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
library(plumber)
setwd('C:/Users/flyku/Documents/GitHub/iris3-backend/plumber')
#setwd('/var/www/nodejs/iris3-backend/plumber')
plumber::pr("iris3.R") %>% plumber::pr_run(host="0.0.0.0",port=8000)
